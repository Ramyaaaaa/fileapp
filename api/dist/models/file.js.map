{"version":3,"sources":["../../src/models/file.js"],"names":["File","app","model","name","originalName","mimeType","size","etag","created","Date","now","object","_","get","callback","db","collection","insertOne","err","result"],"mappings":";;;;;;;;AAAA;;;;;;;;IACMA,I;AAEF,kBAAYC,GAAZ,EAAmB;AAAA;;AACf,aAAKA,GAAL,GAAWA,GAAX;AACA,aAAKC,KAAL,GAAY;AACRC,kBAAK,IADG;AAERC,0BAAa,IAFL;AAGRC,sBAAS,IAHD;AAIRC,kBAAK,IAJG;AAKRC,kBAAK,IALG;AAMRC,qBAAQC,KAAKC,GAAL;;AANA,SAAZ;AASH;;;;uCACcC,M,EAAO;AAClB,iBAAKT,KAAL,CAAWC,IAAX,GAAkBS,iBAAEC,GAAF,CAAMF,MAAN,EAAa,KAAb,CAAlB;AACA,iBAAKT,KAAL,CAAWE,YAAX,GAA0BQ,iBAAEC,GAAF,CAAMF,MAAN,EAAa,cAAb,CAA1B;;AAGA,iBAAKT,KAAL,CAAWG,QAAX,GAAsBO,iBAAEC,GAAF,CAAMF,MAAN,EAAa,UAAb,CAAtB;AACA,iBAAKT,KAAL,CAAWI,IAAX,GAAkBM,iBAAEC,GAAF,CAAMF,MAAN,EAAa,MAAb,CAAlB;AACA,iBAAKT,KAAL,CAAWK,IAAX,GAAkBK,iBAAEC,GAAF,CAAMF,MAAN,EAAa,MAAb,CAAlB;AACA,iBAAKT,KAAL,CAAWM,OAAX,GAAqBC,KAAKC,GAAL,EAArB;AACA,mBAAO,KAAKR,KAAZ;AACH;;;6BAGIY,Q,EAAS;AACV,gBAAMC,KAAK,KAAKd,GAAL,CAASY,GAAT,CAAa,IAAb,CAAX;AACAE,eAAGC,UAAH,CAAc,OAAd,EAAuBC,SAAvB,CAAiC,KAAKf,KAAtC,EAA4C,UAACgB,GAAD,EAAKC,MAAL,EAAc;AACtD,uBAAOL,SAASI,GAAT,EAAaC,MAAb,CAAP;AACH,aAFD;AAGH;;;;;;kBAGUnB,I","file":"file.js","sourcesContent":["import _ from 'lodash';\r\nclass File\r\n{\r\n    constructor(app)   {\r\n        this.app = app;\r\n        this.model ={\r\n            name:null,\r\n            originalName:null,\r\n            mimeType:null,\r\n            size:null,\r\n            etag:null,\r\n            created:Date.now(),\r\n\r\n        }\r\n    }\r\n    initWithObject(object){\r\n        this.model.name = _.get(object,'key');\r\n        this.model.originalName = _.get(object,'originalname');\r\n\r\n        \r\n        this.model.mimeType = _.get(object,'mimetype');\r\n        this.model.size = _.get(object,'size');\r\n        this.model.etag = _.get(object,'etag');\r\n        this.model.created = Date.now();\r\n        return this.model;\r\n    }\r\n\r\n\r\n    save(callback){\r\n        const db = this.app.get('db');\r\n        db.collection('files').insertOne(this.model,(err,result)=>{\r\n            return callback(err,result);\r\n        })\r\n    }\r\n}\r\n\r\nexport default File;"]}